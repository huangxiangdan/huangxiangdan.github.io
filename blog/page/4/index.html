
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Stoned's Blog</title>
  <meta name="author" content="Stoned">

  
  <meta name="description" content="背景 使用ejabberd做聊天服务，最大的问题是怎么跟现有的系统对接，其中最重要的就是用户系统如何对接。而这一点，ejabberd已经为我们考虑到了，为了方便不会使用erlang的开发者使用自己的用户系统，ejabberd提供了extauth_program这个配置， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://huangxiangdan.github.io/blog/page/4/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Stoned's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Stoned's Blog</a></h1>
  
    <h2>A startup hacker.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="xd_huang1986@163.com" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:huangxiangdan.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/26/ejabberd_ruby_auth/">Ejabberd使用ruby做用户验证（extauth_program）</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-26T00:00:00+08:00" pubdate data-updated="true">Mar 26<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/03/26/ejabberd_ruby_auth/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>背景</h2>

<p>使用ejabberd做聊天服务，最大的问题是怎么跟现有的系统对接，其中最重要的就是用户系统如何对接。而这一点，ejabberd已经为我们考虑到了，为了方便不会使用erlang的开发者使用自己的用户系统，ejabberd提供了<strong>extauth_program</strong>这个配置，从而可以使用任何可执行的脚本作为用户系统的接口。其中perl语言的demo在ejabberd srouce的example里就有。而更多的配置可以参考<a href="http://www.ejabberd.im/extauth">Authentication Scripts</a>，你可以使用非常多的语言和数据库，包括perl,python,甚至php，c#。其实你用任何语言都没有关系，因为毕竟只有短短几十行代码，你唯一要做的就是设置好你的数据库参数。</p>

<h2>我的尝试步骤</h2>

<p>但是不幸的是官方给的参考里是没有ruby脚本的（有脚本，但是页面已经失效），于是乎我在网上狂搜extauth ruby的实现，还好找到一个据说有点问题的ruby代码<a href="http://www.ejabberd.im/node/919">ejabberd not exec my script </a>，那人就是因为执行不了所以才发帖求助的。于是</p>

<ol>
<li>我copy了他的代码，然后稍作了修改，配置好extauth。果然执行不了，没有任何反应，连我设置的log都没有输出来。而ejabberd的log是<strong>extauth 脚本意外终止，原因是normal</strong></li>
<li>于是我做了个测试，将所有的代码都删掉，只保留log的部分，结果还是没有log，而我用ruby执行是有log</li>
<li>这让我一度怀疑ejabberd不支持ruby，于是我换用ejabberd source里的perl脚本，结果一切工作正常。</li>
<li>我误认为ejabberd不支持ruby，于是我放弃ruby的方式，在网上down了<a href="http://www.ejabberd.im/check_mysql_perl">Authenticate Against MySQL with Perl</a>，修改后run，结果发现跟1的结果是一样，无法运行。</li>
<li>既然有一个正确的，一个错误的相同语言的脚本，那我就可以比对哪里导致运行失败了。比对的结果是4下载的sql没有执行权限，于是我chmod a+x，4运行正常了，但我仍然不能正确登录。</li>
<li>在perl console环境中一步步执行4的脚本，发现原因是我缺少sql lib的支持。于是准备换用python脚本。</li>
<li>在修改python脚本支持的时候，我意外发现所有的文件开头都有一行#!/usr/bin/perl这样的注释，我突然明白为什么我的ruby脚本不能执行了，因为它不知道怎么去执行，于是在ruby文件开头加上了#!/usr/bin/env ruby，这个世界顿时清净了。后来想起我好像在鸟哥的私房菜里边见过这些东西，后悔看得太草了。</li>
</ol>


<h2>要点</h2>

<ol>
<li>你的script本身要能正确执行，即有执行权限，而且是可执行的（第一行有类似#!/usr/bin/env ruby的注释）</li>
<li>正确配置extauth。如下：
  {auth_method, external}.%%这是要点
  {extauth_program, &#8220;/var/lib/ejabberd/db_auth.rb”}.</li>
<li>没有第三了。</li>
</ol>


<h2>下载</h2>

<p><a href="https://gist.github.com/2495010">a ejabberd extauth script write by ruby</a></p>

<h2>参考资料</h2>

<ol>
<li><a href="http://www.ejabberd.im/extauth">extauth list</a></li>
<li><a href="http://www.ejabberd.im/node/919">ejabberd not exec my script </a></li>
<li><a href="http://stackoverflow.com/questions/6127284/ejabberd-extauth-using-erlang-escript">ejabberd extauth using erlang escript</a></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/25/next-month-plan_2012-03/">下个月的打算</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-25T00:00:00+08:00" pubdate data-updated="true">Mar 25<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/03/25/next-month-plan_2012-03/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>从三月开始，到现在两个月的时间。期间想做太多的事情，很多事情起了个头，就放在那里了，所以决定从5月开始收一收了。做完手头上想做的事情。这些事情分别是：</p>

<ol>
<li><a href="http://ruiana.com/2012/03/03/12306-auto-login">12306 自动登录</a>【闲置】</li>
<li>英语阅读工具【放弃】</li>
<li>妈妈说——为我弟做的语音记录提醒Android软件，<strong>5月6号之前完成</strong>【done】</li>
<li><a href="http://manila.ruiana.com">马尼拉</a>——html5游戏【done，完成基本版本】</li>
<li><a href="http://yitu.me">图图的blog</a>【闲置】</li>
<li>在家里——给老婆做的东西，还没开始做，6月份再做吧。【看情况】</li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/15/deploy-ejabberd/">Ejabberd部署</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-15T00:00:00+08:00" pubdate data-updated="true">Mar 15<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/03/15/deploy-ejabberd/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>我们选用ejabberd作为我们聊天的Server，原因是可以1、erlang性能高2、用得人多。
经过两天的折腾，我终于在三台不同的系统上都装上了ejabberd，分别讲讲这三个平台的安装经历。</p>

<h2>Mac</h2>

<p>ejabberd有Mac下的dmg安装包，有可以通过source安装。</p>

<ol>
<li>我的第一次尝试是直接使用了ejabberd的dmg安装包，结果执行postinstall脚本的时候出错，服务起不来。没有具体的错误提示。</li>
<li>所以换用source安装的方式。先装的erlang 15B01，然后安装ejabberd 2.1.10版本。结果使用/sbin/ejabberdctl start 没有任何反应。通过netstat看发现没有5280端口。于是换ejabberdctl live命令，发现提示是端口冲突。后来想起来我装过openfire，于是卸载掉，重新启动，还是出错。</li>
<li>后来发现erlang 15B01出的比ejabberd2.1.10还晚，怀疑是版本问题。于是卸载erlang 15B01，换用erlang 15B。</li>
<li>装好之后，重新安装ejabberd，好像就没什么大问题了。</li>
<li>启动访问http://localhost:5280/admin。是否能出来页面。</li>
</ol>


<h2>Cent OS</h2>

<p>直接用source安装的，安装完之后没什么问题，有问题可以参考下面的资料。</p>

<h2>Ubuntu  10.10</h2>

<ol>
<li>我首先是直接用apt-get安装的erlang，结果一看，版本是5.9.1就是15B01，所以就卸载掉了。</li>
<li>后来手动安装erlang失败，发现缺少依赖库</li>
<li>所以必须先安装下面的东西</li>
<li>sudoapt-get -yinstall\

<pre><code> build-essential m4 libncurses5-dev \
 libssh-dev unixodbc-dev libgmp3-dev \
 libwxgtk2.8-dev libglu1-mesa-dev \
 fop xsltproc default-jdk
</code></pre></li>
<li>安装完erlang后，又手动安装了ejabberd，结果启动总是不成功。</li>
<li>后又换apt-get安装ejabberd，启动时提示几个文件有权限问题，我直接chmod 777就搞定了。</li>
<li>ubuntu中启动ejabberd是这样启动的，/etc/init.d/ejabberd start。不要用ejabberdctl，会失败。</li>
</ol>


<h2>排错指南</h2>

<ol>
<li>在start之前检查下epmd, beam, beam.smp等是否启动了，如果启动着，先把他们杀掉，他们是erlang相关的东西。</li>
<li>检查是否有应用占用了5222,5223,5280等端口，5222端口是xmpp协议本身规定的，所以默认是用此端口。如果之前装过其他的XMPP server请停止或卸载，比如OpenFire</li>
<li>ejabberd有很重的erlang依赖关系，所以一定要对好版本，参考下面的资料。</li>
<li>如果不需要配置，也是可以启动服务的，所以无法启动不是配置的问题。</li>
<li>如果start没什么错误提示，可以改用status或者live方式启动，这样错误会明显一点，如果还是没有错误提示，只能到/var/log/ejabberd底下去看了。</li>
</ol>


<h2>参考资料</h2>

<ol>
<li><a href="http://blog.sina.com.cn/s/blog_6d2cab390100zop7.html">ejabberd 简明配置</a></li>
<li><a href="http://blog.sina.com.cn/s/blog_6d2cab390100zop7.html">ejabberd 简明配置2</a></li>
<li><a href="http://usenrong.iteye.com/blog/855430">ejabberd清理</a></li>
<li><a href="http://www.mail-archive.com/server-devel@lists.laptop.org/msg02776.html">ejabberd清理2</a></li>
<li><a href="http://boris.muehmer.de/2011/11/09/installing-erlangotp-r14b04-on-ubuntu-11-10-from-source-tarball/">
Installing Erlang/OTP R14B04 on Ubuntu 11.10 from source tarball </a></li>
<li><a href="http://forum.ubuntu.org.cn/viewtopic.php?f=86&amp;t=90547">
E: Sub-process /usr/bin/dpkg returned an error code 解决办法</a></li>
<li><a href="http://blog.csdn.net/summerhust/article/details/7201298">odbc : ODBC library – link check failed</a></li>
<li><a href="http://www.ejabberd.im/node/4917">
Debian package difference</a></li>
<li><a href="http://digitalsanctum.com/2009/10/01/installing-erlang-on-mac-os-x/">installing-erlang-on-mac-os-x</a></li>
<li><a href="http://www.ejabberd.im/erlang">ejabberd与erlang版本对应关系(重要)</a></li>
<li><a href="http://wiki.jabbercn.org/Ejabberd2:%E5%AE%89%E8%A3%85%E5%92%8C%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97">ejabberd安装配置指南(不太有用)</a></li>
<li><a href="http://lboynton.com/tag/ejabberd/">
Debugging ejabberd</a></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/03/hack-12306/">漫漫破解路</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-03T00:00:00+08:00" pubdate data-updated="true">Mar 3<span>rd</span>, 2012</time>
        
         | <a href="/blog/2012/03/03/hack-12306/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>前言</h2>

<p>11年是个值得纪录的时刻，12306的推出改变了人们购买火车票的方式，以前是挤火车站，现在是挤12306。于是在这个中药的时刻，各路人马各显神通，自动登录，自动购票，自动刷票等应运而生。最著名的要数<a href="https://github.com/zzdhidden/12306">zzdhidden</a>的项目，一时间不管IE，firefox，Chrome，只要是想要买火车票的，基本都装上了那个脚本，好不风光。</p>

<p>但好景不长，由于铁道部发现了验证码不刷新的漏洞之后，以上方法通通失效。但我还是不甘心，我还是希望能够有一个东西至少能实现自动登录。</p>

<h2>思路</h2>

<p>铁道部的验证码其实并不算复杂，我觉得只要能对它进行OCR，我应该就能实现自动登录。我特意在<a href="http://www.newocr.com/">在线OCR</a>的网站上进行了测试，结果还是比较理想的，自动登录的验证码是可以被识别的。于是就进行了漫漫破解路，我到目前为止还是不清楚，最终能不能成功。</p>

<h2>难度</h2>

<p>铁道部用了HTTPS的方式访问，连图片也是HTTPS的方式，而且在上回修复验证码不刷新的问题之后，验证码已经没有可能性越过，只能硬碰硬的方式进行破解了。</p>

<h2>尝试</h2>

<h3>第一次</h3>

<p>我的第一次尝试确定验证码跟的确定跟什么有关，cookie？page？js的隐藏的东西？还是说通通相关。我的做法是打开浏览器，打开登录页面，再打开另外一个页面，再输入验证码的地址。然后在之前打开的登录页面中输入后一个页面的验证码，结果登录成功。<strong>由此可以得出结论，cookie只跟session相关，跟page是无关的。</strong></p>

<h3>第二次</h3>

<p>第二次尝试，是测试是否只跟session相关。我在Chrome中打开登陆界面，然后用ruby模拟同一个session去抓取验证码。结果却很让我失望，登录失败。所以，由这个试验可以得出的是<strong>因为是HTTPS的协议，在每次连接的时候就默认有个session的概念，所以用cookie的那个session是模拟不了的</strong></p>

<h3>接下来</h3>

<p>在经历了前两次的试验之后，我觉得还剩下两条路：</p>

<ol>
<li>获取cache中的图片，然后传给验证码破解服务网站，得到验证码之后，提交</li>
<li>做一个https代理，拦截验证码的请求，破解后传给用户。</li>
</ol>


<p>从用户的角度来讲，我觉得用户很难相信一个代理，第二如果真以这种方式实现的话，我的服务器压力也受不了。所以我优先去尝试第一种方式。于是就有了我的第三次尝试。</p>

<h3>第三次</h3>

<p>用户缓存中的图片。通过搜索，发现在IE下可以用cache api，或者可以<a href="http://support.microsoft.com/kb/293125">将图片拷贝到剪切板</a>。Chrome下可以通过访问<a href="chrome://cache/">chrome://cache/</a>。但怎么把这些图片传给我的服务器呢？我觉得无论是IE还是Chrome，肯定有权限的限制，于是没往这条路上深入。</p>

<h3>第四次</h3>

<p>还是想要在客户端传图片给我的解析服务。于是想到了HTML5的本地存储。于是在测试之后发现这个办法还是不可行。因为碰到了安全沙箱问题。在调用canvas.toDataURL()时会报<a href="http://blog.darkthread.net/post-2011-11-02-html5-canvas-orgin-clean.aspx">SECURITY_ERR: DOM Exception 18</a>错误。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>  <span class="kd">var</span> <span class="nx">img</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>   <span class="c1">// Create new img element </span>
</span><span class='line'>  <span class="nx">img</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>    <span class="c1">// execute drawImage statements here </span>
</span><span class='line'>    <span class="nx">ctx</span><span class="p">.</span><span class="nx">drawImage</span><span class="p">(</span><span class="nx">img</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">imgData</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">toDataURL</span><span class="p">(</span><span class="s2">&quot;image/jpg&quot;</span><span class="p">);;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="nx">img</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">&#39;https://dynamic.12306.cn/otsweb/passCodeAction.do?rand=lrand&#39;</span><span class="p">;</span> <span class="c1">// Set     source path</span>
</span></code></pre></td></tr></table></div></figure>


<h3>第五次</h3>

<p>但突然峰回路转，后来我分析了沙箱问题的原因是我在本地文件做的测试，而图片的域名是12306的，所以会造成跨域的问题。所以后来我小测试了一下，在Chrome的插件Script里执行上述代码，结果发现不再出现上述错误了。解决这最头疼的跨域问题以及图片获取问题之后，接下来的问题就是怎么把图片数据传到我的OCR服务器了。</p>

<p>于是我也是先做了个简单的试验，将获取到的base64数据post到我的OCR服务器，OCR服务base64解码，再存成文件。我一看是张完整的完整的图片，高兴坏了。</p>

<h3>第六次</h3>

<p>但当我把OCR的结果传回到客户端时，意外发生了，客户端怎么也没有收到。通过抓包显示，post请求被cancel掉了。后google之，发现正是js的跨域问题，即一个站点的js无法请求另一站点的js的数据。幸好这块都有成熟的解决办法，通过伪装成Script请求的方式进行数据提交。或者直接就用JSONP的方式。这个方式有一个问题，就是不能使用POST方式进行数据的提交了。但图片的大小（base64）有4K以上，怎么才能把图片完整地传到服务器端呢？（因为get有2K的大小限制）</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>  <span class="kd">var</span> <span class="nx">JSONP</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">)</span> <span class="p">;</span>
</span><span class='line'>   <span class="nx">JSONP</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">JSONP</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">4</span><span class="p">){</span>
</span><span class='line'>             <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#randCode&quot;</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
</span><span class='line'>             <span class="nx">submitForm</span><span class="p">();</span>
</span><span class='line'>        <span class="p">}</span><span class="k">else</span><span class="p">{</span>
</span><span class='line'>             <span class="nx">reLogin</span><span class="p">();</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// alert(result);</span>
</span><span class='line'>   <span class="p">}</span>
</span><span class='line'>   <span class="nx">JSONP</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;text/javascript&quot;</span><span class="p">;</span>
</span><span class='line'>   <span class="nx">JSONP</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;http://localhost:3000/ocr&quot;</span><span class="p">;</span>
</span><span class='line'>   <span class="nb">document</span><span class="p">.</span><span class="nx">head</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">JSONP</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<h3>第七次</h3>

<p>get方式提交我想了两个办法，一是多次分批提交数据，服务端再进行组合。而是利用多个cookie进行提交，这样只用一次请求就可以传完了（cookie的长度限制是4K）。但我在进行cookie测试的时候，失败了，原因是我在12306的域名下无法访问另外一个站点的cookie。所以只能采用第一个办法。</p>

<h3>第八次</h3>

<p>那下面就是苦力活了。只要传好数据，ORC之后回传给浏览器，再进行登录就好了。我在做这一步的时候碰到挺多问题的。</p>

<ol>
<li>是jquery的getJSON方法总是无法触发callback方法，不知何故。没办法，我只能用complete方法代替callback方法进行触发。</li>
<li>由于是分批次的上传图片数据，要注意图片的顺序问题。所以应该是一个接一个地传。</li>
<li>ruby的默认session同样有4K的大小限制，因此需要改成数据库的方式进行sesison的存储。http://www.cslog.cn/Content/ruby_on_rails_sessions/ https://github.com/nmerouze/mongo_session_store/issues/8</li>
<li>提交之前需要encodeURIComponent一下</li>
</ol>


<h2>结束</h2>

<p>至此，破解12306从设想变成了现实。其实回过头来看看，其实也不是很难，但充满了惊险刺激。比大学时做ACM的题目更加兴奋。</p>

<p>Github:<a href="http://github.com/huangxiangdan/12306">http://github.com/huangxiangdan/12306</a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/3/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/02/18/2014-summary/">2014年终总结</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/25/za-si/">杂思</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/28/about-this-time/">关于此刻</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/12/those-things/">那些东西</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/31/a-new-day/">新的一天</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/huangxiangdan">@huangxiangdan</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'huangxiangdan',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Stoned -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'stoned';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  <script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F2153d3fd7ddf77e40468fdf1e78a201b' type='text/javascript'%3E%3C/script%3E"));
</script>

</body>
</html>
